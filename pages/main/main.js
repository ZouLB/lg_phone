"use strict";loader.define(["pages/common/common"],function(a,e,t,n){function o(a){var e=[],t=new Date,n=t.getMinutes(),o=t.getHours(),i="05";5>n||n>=50?(i=20,5>=n&&0!=o?o-=1:0==o&&(o=23)):20>n?(i=35,0!=o?o-=1:o=23):35>n?(i=50,0!=o?o-=1:o=23):50>n&&(i=5),a.RECORDS.forEach(function(a){var t=!1;if(e.forEach(function(e){e.area==a.area&&(e.data.push(a),t=!0)}),!t){var n={data:[]};n.area=a.area,n.name=u[n.area],n.data.push(a),e.push(n)}a.hh==o&&a.mm==i&&e.forEach(function(e){e.area==a.area&&(e.newNum=1.3*parseInt(a.aggrnum),t=!0)})}),e.sort(function(a,e){return a.newNum<e.newNum?1:-1}),r(e,o,i)}function r(a,e,t){var n=(new Date).getFullYear()+"/"+((new Date).getMonth()+1)+"/"+(new Date).getDate();m.totalPopulation=[a[0].name,a[0].newNum],t<10&&(t="0"+t),m.deadline=n+" "+e+":"+t,m.jiedaoPaiming=[];for(var o=1;o<a.length;o++)m.jiedaoPaiming.push([a[o].name,(a[o].newNum/1e4).toFixed(2)]);m.hourData=[];for(var r=0;r<a[0].data.length;r++)a[0].data[r].hh<=e&&a[0].data[r].mm<=t&&m.hourData.push([a[0].data[r].hh+":"+a[0].data[r].mm,(1.3*parseInt(a[0].data[r].aggrnum)/1e4).toFixed(2)])}function i(a){var e=echarts.init(document.getElementById("line-chart-main"),"walden");e.clear();for(var t=[],n=[],o=0;o<a.length;o++)t.push(a[o][0]),n.push({value:a[o][1],name:a[o][0]});var r={xAxis:{type:"category",data:t,name:"时",axisLine:{lineStyle:{color:"#999"}},axisTick:{length:3}},tooltip:{trigger:"axis",formatter:"{b}<br/>准实时人口数：{c}万人"},yAxis:{type:"value",name:"人口(万人)",min:400,max:500,axisLine:{lineStyle:{color:"#999"}},axisTick:{length:3}},grid:{top:"16%",bottom:"16%"},series:[{data:n,type:"line",smooth:!0,showSymbol:!1,areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#0072c6"},{offset:1,color:"#fff"}])}},itemStyle:{normal:{color:"#2EAAFD",lineStyle:{color:"#2EAAFD"}}}}]};e.setOption(r,!0)}var l={},m={},u={0:"龙岗全区",1:"坂田街道",2:"宝龙街道",3:"布吉街道",4:"横岗街道",5:"吉华街道",6:"龙城街道",7:"龙岗街道",8:"南湾街道",9:"平湖街道",10:"坪地街道",11:"园山街道"};l.init=function(){a.queryData("actual_time",{},function(a,e){o(e),i(m.hourData);var t=bui.storage();t.set("RealTime",m),t.set("dic",u)})},l.init(),n.exports=l});