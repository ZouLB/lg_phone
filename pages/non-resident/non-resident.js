"use strict";loader.define(["pages/common/common"],function(t,e,a,i){function n(){t.queryData("nonResident",{},function(t,e){c(e.timeNum),o(e),l(e.rank),s(e.stayTime),$(".province").click()})}function o(t){$(".btn-border").each(function(){$(this).click(function(){switch($(".btn-border").each(function(){$(this).removeClass("primary")}),$(this).addClass("primary"),$(this).html()){case"省内":r(t.city.province);break;case"国内":r(t.city.home);break;case"境外":r(t.city.foreign)}})})}function r(t){var t=t,e=template("tpl-list-nonResident",{listData:t});$("#tpl-list-nonResident-content").html(e)}function l(t){for(var e=echarts.init(document.getElementById("no-resident-chart"),"walden"),a=[],i=[],n=0;n<t.length;n++)a.push(t[n][0]),i.push({value:t[n][1],name:t[n][0]});var o={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:"{b}<br/>流动人口：{c}万人"},grid:{top:"14%",bottom:"16%",left:"16%",right:"14%"},xAxis:{type:"value",boundaryGap:[0,.01],name:"(万人)",axisLine:{lineStyle:{color:"#999"}},axisTick:{length:3}},yAxis:{type:"category",data:a,name:"街道",axisLine:{lineStyle:{color:"#999"}},axisTick:{length:3}},series:[{name:"2011年",type:"bar",barWidth:"40%",data:i,label:{normal:{show:!0,position:"right",textStyle:{color:"#aaa"},formatter:"{@score}"}},itemStyle:{normal:{color:"#2EAAFD"}}}]};e.setOption(o,!0)}function s(t){for(var e=echarts.init(document.getElementById("chart"),"walden"),a=[],i=[],n=0;n<t.length;n++)a.push(t[n][0]),i.push({value:t[n][1],name:t[n][0]});var o={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}%"},visualMap:{show:!1,min:0,max:55,inRange:{colorLightness:[0,1]}},series:[{name:"驻留时间",type:"pie",radius:"55%",center:["49%","50%"],data:i.sort(function(t,e){return t.value-e.value}),roseType:"radius",itemStyle:{normal:{color:"#3fb1e3"}},animationType:"scale",animationEasing:"elasticOut",animationDelay:function(t){return 200*Math.random()},label:{normal:{show:!0,position:"right",textStyle:{color:"#aaa"},formatter:"{b}:{@score}%"}},labelLine:{normal:{smooth:.2,length:0,length2:10}}}]};e.setOption(o,!0)}function c(t){for(var e=echarts.init(document.getElementById("line-chart"),"walden"),a=[],i=[],n=0;n<t.length;n++)a.push(t[n][0]),i.push({value:t[n][1],name:t[n][0]});var o={xAxis:{type:"category",data:a,name:"日期",axisLine:{lineStyle:{color:"#999"}},axisTick:{length:3}},tooltip:{trigger:"axis",formatter:"{b}<br/>流动人口：{c}万人"},yAxis:{type:"value",name:"人口(万人)",min:1400,axisLine:{lineStyle:{color:"#999"}},axisTick:{length:3}},grid:{top:"16%",bottom:"16%",right:"12%",left:"13%"},series:[{data:i,type:"line",smooth:!0,areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#0072c6"},{offset:1,color:"#fff"}])}},itemStyle:{normal:{color:"#2EAAFD",lineStyle:{color:"#2EAAFD"}}}}]};e.setOption(o,!0)}var m={};m.init=function(){n()},m.init(),i.exports=m});