"use strict";loader.define(["pages/common/common"],function(t,a,e,i){function r(){t.queryData("attraction",{},function(t,a){o(a.rank),c(a.sex),n(a),s(a.age),$(".province").click()})}function n(t){$(".province").click(function(){$(this).removeClass("primary-border").addClass("primary"),$(".outProvince").removeClass("primary").addClass("primary-border"),l(t.city.province)}),$(".outProvince").click(function(){$(this).removeClass("primary-border").addClass("primary"),$(".province").removeClass("primary").addClass("primary-border"),l(t.city.home)})}function o(t){var t=t,a=template("tpl-list-rk",{listData:t});$("#tpl-list-rk-content").html(a)}function l(t){var t=t,a=template("tpl-list-city",{listData:t});$("#tpl-list-city-content").html(a)}function s(t){for(var a=echarts.init(document.getElementById("chart"),"walden"),e=[],i=[],r=0;r<t.length;r++)e.push(t[r][0]),i.push({value:t[r][1],name:t[r][0]});var n={tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:"{b}<br/>占比：{c}%"},grid:{top:"16%",bottom:"16%",left:"18%",right:"12%"},xAxis:{type:"value",boundaryGap:[0,.01],name:"%",axisLine:{lineStyle:{color:"#999"}},axisTick:{length:3}},yAxis:{type:"category",data:e,name:"年龄",axisLine:{lineStyle:{color:"#999"}},axisTick:{length:3}},series:[{name:"2011年",type:"bar",barWidth:"40%",data:i,label:{normal:{show:!0,position:"right",textStyle:{color:"#aaa"},formatter:"{@score}%"}},itemStyle:{normal:{color:"#2EAAFD"}}}]};a.setOption(n,!0)}function c(t){var a=new Array(10).join(",").split(","),e=template("tpl-list-man",{manlistData:a,sex:t[0][1]});$("#tpl-list-man-content").html(e);var e=template("tpl-list-woman",{manlistData:a,sex:t[1][1]});$("#tpl-list-woman-content").html(e)}var m={};m.init=function(){r()},m.init(),i.exports=m});