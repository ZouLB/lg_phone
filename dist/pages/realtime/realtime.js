"use strict";loader.define(["pages/common/common"],function(t,e,a,o){function n(){bui.slide({id:"#tabRealtime",menu:"#head-head",children:".bui-tab-main ul",opacity:.4,scroll:!0,autoload:!0})}function i(){var t=bui.storage();d=t.get("RealTime")[0],p=t.get("dic")[0],l(),s(d.hourData),r(),m(),console.log(d)}function l(){var t=template("tpl-list-realtime",{listData:d.jiedaoPaiming});$("#tpl-list-realtime-content").html(t),$("#changeNum").html(c(parseInt(d.totalPopulation[1]))),$("#changeTime").html("截止时间: "+d.deadline)}function r(){var e=[];t.queryData("actual_time_mon",{},function(t,a){a.RECORDS.forEach(function(t){"0"==t.area?d.monthTotal=c(1.3*parseInt(t.aggrnum)):e.push([p[t.area],c(1.3*parseInt(t.aggrnum))])}),e.sort(function(t,e){return t[1]<e[1]?1:-1}),d.jiedaoTime=e,$("#monthTotal").html(d.monthTotal),u(d.jiedaoTime)})}function c(t){return(t/1e4).toFixed(2)}function m(){var e=[],a=[5205243,4784880,4659247,4648345,4788473,5007598,5191827,5058205,5029588,5025238,5038193,5181676,5235793,5246181,5130914,5064971,5048136,5042278,5090405,5063881,4980094,4996427,5021223,4950046,5052944,5220350,5257465,5273773,5108814,5074305,5089784];t.queryData("actual_time_day",{},function(t,o){o.RECORDS.forEach(function(t){"0"==t.area&&e.push([t.dt.substring(6,8),c(1.3*a[e.length])])}),d.dayData=e,h(d.dayData)})}function s(t){var e=echarts.init(document.getElementById("line-chart"),"walden");e.clear();for(var a=[],o=[],n=0;n<t.length;n++)a.push(t[n][0]),o.push({value:t[n][1],name:t[n][0]});var i={xAxis:{type:"category",data:a,name:"时",axisLine:{lineStyle:{color:"#999"}},axisTick:{length:3}},tooltip:{trigger:"axis",formatter:"{b}<br/>准实时人口数：{c}万人"},yAxis:{type:"value",name:"人口(万人)",min:400,max:500,axisLine:{lineStyle:{color:"#999"}},axisTick:{length:3}},grid:{top:"16%",bottom:"16%"},series:[{data:o,type:"line",smooth:!0,showSymbol:!1,areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#0072c6"},{offset:1,color:"#fff"}])}},itemStyle:{normal:{color:"#2EAAFD",lineStyle:{color:"#2EAAFD"}}}}]};e.setOption(i,!0)}function u(t){var t=t,e=template("tpl-list-month",{listData:t});$("#tpl-list-content-month").html(e)}function h(t){for(var e=echarts.init(document.getElementById("line-chart-month"),"walden"),a=[],o=[],n=0;n<t.length;n++)a.push(t[n][0]),o.push({value:t[n][1],name:t[n][0]});var i={tooltip:{trigger:"axis",formatter:"{b}<br/>人口数：{c}万人"},xAxis:{type:"category",data:a,name:"日",axisLine:{lineStyle:{color:"#999"}},axisTick:{length:3}},grid:{top:"16%",bottom:"16%",left:"12%"},yAxis:{type:"value",name:"人口(万人)",min:400,max:800,axisLine:{lineStyle:{color:"#999"}},axisTick:{length:3}},series:[{data:o,type:"line",smooth:!0,showSymbol:!1,areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#0072c6"},{offset:1,color:"#fff"}])}},itemStyle:{normal:{color:"#2EAAFD",lineStyle:{color:"#2EAAFD"}}}}]};e.setOption(i,!0)}var f={},d={},p={};f.init=function(){n(),i()},f.init(),o.exports=f});